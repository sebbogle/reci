@if (NutritionInfo is not null && HasNutritionData())
{
    <FluentStack Orientation="Orientation.Vertical">
        <FluentStack Orientation="Orientation.Horizontal" VerticalAlignment="VerticalAlignment.Center" HorizontalGap="5">
            <FluentIcon Value="@(new Icons.Regular.Size20.DataPie())" />
            <FluentLabel Typo="Typography.H3">Nutrition Information</FluentLabel>
        </FluentStack>

        <FluentCard MinimalStyle="true">
            <FluentStack Orientation="Orientation.Vertical" Wrap="true" HorizontalGap="5">
                @if (NutritionInfo.Calories.HasValue)
                {
                    <FluentStack Orientation="Orientation.Horizontal">
                        <FluentLabel Typo="Typography.H6" Color="Color.Custom" CustomColor="var(--neutral-foreground-hint)">Calories</FluentLabel>
                        <FluentLabel Typo="Typography.Body">@(NutritionInfo.Calories)kcal</FluentLabel>
                    </FluentStack>
                }
                @if (NutritionInfo.Protein.HasValue)
                {
                    <FluentStack Orientation="Orientation.Horizontal">
                        <FluentLabel Typo="Typography.H6" Color="Color.Custom" CustomColor="var(--neutral-foreground-hint)">Protein</FluentLabel>
                        <FluentLabel Typo="Typography.Body">@NutritionInfo.Protein.Value.ToString("0.#")g</FluentLabel>
                    </FluentStack>
                }
                @if (NutritionInfo.Carbohydrates.HasValue)
                {
                    <FluentStack Orientation="Orientation.Horizontal">
                        <FluentLabel Typo="Typography.H6" Color="Color.Custom" CustomColor="var(--neutral-foreground-hint)">Carbohydrates</FluentLabel>
                        <FluentLabel Typo="Typography.Body">@NutritionInfo.Carbohydrates.Value.ToString("0.#")g</FluentLabel>
                    </FluentStack>
                }
                @if (NutritionInfo.Fat.HasValue)
                {
                    <FluentStack Orientation="Orientation.Horizontal">
                        <FluentLabel Typo="Typography.H6" Color="Color.Custom" CustomColor="var(--neutral-foreground-hint)">Fat</FluentLabel>
                        <FluentLabel Typo="Typography.Body">@NutritionInfo.Fat.Value.ToString("0.#")g</FluentLabel>
                    </FluentStack>
                }
            </FluentStack>
        </FluentCard>
    </FluentStack>
}

@code {
    [Parameter]
    public NutritionInfo? NutritionInfo { get; set; }

    private bool HasNutritionData() => 
        NutritionInfo?.Calories.HasValue == true
        || NutritionInfo?.Protein.HasValue == true
        || NutritionInfo?.Carbohydrates.HasValue == true
        || NutritionInfo?.Fat.HasValue == true;
}
